<head><style>canvas{position:absolute;width:960px;height:540px;image-rendering:pixelated;}</style></head><body><script>(function(){'use strict';function a(b,c){return Math.random()*(c-b)+b};var l=[[228,228,228],[233,194,194],[220,155,155],[119,54,112]];function m(b){return"rgb("+b[0]+","+b[1]+","+b[2]+")"};var n=[],u,v,w=!1;function aa(b){if(0==n.length||n[n.length-1].x<u){var c=a(w?-10:10,w?-50:50);w=!w;ba(c)}for(n.forEach(d=>{d.x-=b});-10>n[0].x;)n.shift()}function ba(b){var c=u+a(100,150);if(0<n.length){var d=n.length-1,f=n[d],g=(f.x+c)/2,h=(f.y+b)/2;n.push({x:g,y:h,f:!0});x({x:g,y:h},f,k=>{n.splice(d+1,0,k)});x({x:g,y:h},{x:c,y:b},k=>{n.push(k)})}n.push({x:c,y:b,f:!0})}function x(b,c,d){for(var f,g,h=.1;.9>h;h+=.1)f=c.x*h+b.x*(1-h),g=-(c.y-b.y)*h*(h-2)+b.y,d({x:f,y:g})}
function ca(){var b=y;b.fillStyle=m(l[2]);b.beginPath();b.moveTo(n[0].x,v);b.lineTo(n[0].x,v/2-n[0].y);n.forEach(c=>{b.lineTo(c.x,v/2-c.y)});b.lineTo(u,v);b.fill();b.strokeStyle=m(l[0]);b.lineWidth=2;b.stroke();b.beginPath();b.moveTo(n[0].x,v);b.lineTo(n[0].x,270);n.forEach(c=>{b.moveTo(c.x,v/2-c.y-(c.f?10:0));b.lineTo(c.x,270)});b.lineWidth=.5;b.strokeStyle="rgb(0,0,0,100)"};function z(b,c){var d=da[0];return[b*d[0]+c*d[1]+0*d[2]+1*d[3],b*d[4]+c*d[5]+0*d[6]+1*d[7],b*d[8]+c*d[9]+0*d[10]+1*d[11],b*d[12]+c*d[13]+0*d[14]+1*d[15]]}class A{constructor(b){this[0]=new Float32Array(16===arguments.length?[...arguments]:[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}
function B(b,c){function d(r,e){return 0==f[e]?"":1==f[e]?`a[${r}]`:`a[${r}]*${f[e]}`}var f="1000010000100001".split("");c.forEach((r,e)=>f[r]="defghijkl"[e]);c="";for(var g=0;16>g;g++){var h=4*~~(g/4),k=g-h,p="",q;for(q=0;4>q;q++){var t=d(h+q,k+4*q);p+=t?p?`+${t}`:t:""}c+=`c[${g}]=${p};\n`}new Function(..."defghijkl".slice(0,b),`var a=this[0],c=window["_ufmat"];${c}
		[window["_ufmat"],this[0]]=[this[0],window["_ufmat"]];
		return this;`)}new A;new A;new A;window._ufmat=(new A)[0];B(3,[3,7,11]);B(3,[0,5,10]);B(9,[0,1,2,4,5,6,8,9,10]);const da=new A,C=document.createElement("canvas");document.body.appendChild(C);C.width=480;C.height=270;const D=C.getContext("webgl",{alpha:!1,antialias:!1,depth:!1,premultipliedAlpha:!0});D.enable(D.BLEND);const E=document.createElement("canvas");document.body.appendChild(E);E.width=480;E.height=270;const y=E.getContext("2d");function F(b,c){b=D.createShader(b);D.shaderSource(b,c);D.compileShader(b);if(!D.getShaderParameter(b,D.COMPILE_STATUS))throw new TypeError(`couldn't compile shader:\n${D.getShaderInfoLog(b)}`);return b};var G=null,ea=[];
function fa(b,c=[255,255,255,255]){var d=300-b.b,f=80-b.c,g=d,h=f+1*b.height,k=d+1*b.width,p=f,q=k,t=h;[d,f]=z(d,f);[g,h]=z(g,h);[k,p]=z(k,p);[q,t]=z(q,t);var r=b.a.length,e=b.a[(0%r+r)%r];r=e.x/H.width;var ia=e.y/H.height,ja=(e.x+b.width)/H.width;b=(e.y+b.height)/H.height;e=I;J[e]=d;J[e+1]=f;J[e+2]=J[e+6]=g;J[e+3]=J[e+7]=h;J[e+4]=J[e+10]=k;J[e+5]=J[e+11]=p;J[e+8]=q;J[e+9]=t;K[e]=K[e+2]=K[e+6]=r;K[e+1]=K[e+5]=K[e+11]=ia;K[e+3]=K[e+7]=K[e+9]=b;K[e+4]=K[e+8]=K[e+10]=ja;k=2*e;d=k+24;f=c[0];g=c[1];h=
c[2];for(c=c[3];k<d;k+=4)L[k]=f,L[k+1]=g,L[k+2]=h,L[k+3]=c;I+=12}
class ha{constructor(b,c,d){this.width=b.width;this.height=b.height;this.b=c;this.c=d;this.a=[];c=document.createElement("CANVAS");d=c.getContext("2d");c.width=this.width;c.height=this.height;d.drawImage(b,0*this.width,0,this.width,this.height,0,0,this.width,this.height);a:{b=H;const k=b.width-4,p=b.height-4,q=c.width+4,t=c.height+4;for(d=4;d<k;d++)for(var f=4;f<p;f++){var g;b:{for(g=d;g<d+q;g++)for(var h=f;h<f+t;h++)if(!1!==b.c[g][h]){g=!1;break b}g=!0}if(g){M(b,d,f,q,t,!0);b.g.drawImage(c,d,f);
c={f:b.a,x:d,y:f};break a}}c=null}this.a.push({f:c.f,x:c.x,y:c.y});ea.push(this)}}var I,N,O=0,P=0,Q=null,R=null,S=null,T=null,H=new ka,J=new Float32Array(12E3),K=new Float32Array(12E3),L=new Uint8Array(24E3);function U(b){D.bindTexture(D.TEXTURE_2D,b.b);D.pixelStorei(D.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0);D.texImage2D(D.TEXTURE_2D,0,D.RGBA,D.RGBA,D.UNSIGNED_BYTE,b.a);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_S,D.CLAMP_TO_EDGE);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_WRAP_T,D.CLAMP_TO_EDGE);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,D.NEAREST);D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,D.NEAREST)}function M(b,c,d,f,g,h){for(var k=c;k<c+f;k++)for(var p=d;p<d+g;p++)b.c[k][p]=h}
class ka{constructor(){this.height=this.width=1024;this.a=document.createElement("canvas");this.a.width=this.width;this.a.height=this.height;this.g=this.a.getContext("2d");this.c=[];this.b=null;for(var b=0;b<this.width;b++){this.c[b]=[];for(var c=0;c<this.height;c++)this.c[b][c]=!1}}bind(b){D.bindTexture(D.TEXTURE_2D,this.b);D.activeTexture(D.TEXTURE0+b)}clear(b){var c=b.a[0],d=c.x;c=c.y;var f=b.width+4;b=b.height+4;M(this,d,c,f,b,!1);this.g.clearRect(d,c,f,b);this.b&&U(this)}};const V=document.createElement("canvas");V.width=120;V.height=120;const W=V.getContext("2d");W.beginPath();W.fillStyle="white";W.arc(60,60,60,0,2*Math.PI);W.fill();const la=new ha(V,60,60);{var X={i:"\n\t\tattribute vec2 aSpritePosition;\n\t\tattribute vec2 aTextureCoord;\n\t\tattribute vec4 aColor;\n\n\t\tuniform mat3 uMatrix;\n\n\t\tvarying vec2 vTextureCoord;\n\t\tvarying vec4 vColor;\n\n\t\tvoid main() {\n\t\t\tgl_Position = vec4((uMatrix * vec3(aSpritePosition, 1)).xy, 0, 1);\n\t\t\tvTextureCoord = aTextureCoord;\n\t\t\tvColor = aColor;\n\t\t}\n\t",h:"\n\t\tprecision mediump float;\n\n\t\tuniform sampler2D uSpriteTexture;\n\n\t\tvarying vec2 vTextureCoord;\n\t\tvarying vec4 vColor;\n\n\t\tvoid main() {\n\t\t\tvec4 tex = texture2D(uSpriteTexture, vTextureCoord);\n\t\t\tif (floor(tex.a) > 0.0) {\n\t\t\t\tgl_FragColor = vColor;\n\t\t\t}\n\t\t}\n\t"};
const b=F(D.VERTEX_SHADER,X.i),c=F(D.FRAGMENT_SHADER,X.h),d=D.createProgram();D.attachShader(d,b);D.attachShader(d,c);D.linkProgram(d);if(!D.getProgramParameter(d,D.LINK_STATUS))throw new TypeError(`couldn't link shader program:\n${D.getProgramInfoLog(d)}`);G=d}D.useProgram(G);D.uniformMatrix3fv(D.getUniformLocation(G,"uMatrix"),!1,[2/480,0,0,0,-2/270,0,-1,1,1]);var Y=H;Y.b=D.createTexture();U(Y);H.bind(0);O=D.getAttribLocation(G,"aSpritePosition");P=D.getAttribLocation(G,"aTextureCoord");
N=D.getAttribLocation(G,"aColor");Q=D.getUniformLocation(G,"uSpriteTexture");R=D.createBuffer();D.bindBuffer(D.ARRAY_BUFFER,R);D.bufferData(D.ARRAY_BUFFER,J,D.DYNAMIC_DRAW);S=D.createBuffer();D.bindBuffer(D.ARRAY_BUFFER,S);D.bufferData(D.ARRAY_BUFFER,K,D.DYNAMIC_DRAW);T=D.createBuffer();D.bindBuffer(D.ARRAY_BUFFER,T);D.bufferData(D.ARRAY_BUFFER,L,D.DYNAMIC_DRAW);var ma=E.height;u=E.width;v=ma;var na=1E3/60,Z=performance.now();oa(Z);
function oa(b){requestAnimationFrame(oa);var c=b-Z;c>na&&(c/=10,10<c||aa(c),c=l[1],D.clearColor(...[c[0]/255,c[1]/255,c[2]/255],1),D.clear(D.COLOR_BUFFER_BIT),y.clearRect(0,0,E.width,E.height),I=0,fa(la,[...l[2],255]),ca(),I&&(D.bindBuffer(D.ARRAY_BUFFER,R),D.bufferSubData(D.ARRAY_BUFFER,0,J),D.enableVertexAttribArray(O),D.vertexAttribPointer(O,2,D.FLOAT,!1,0,0),D.bindBuffer(D.ARRAY_BUFFER,S),D.bufferSubData(D.ARRAY_BUFFER,0,K),D.enableVertexAttribArray(P),D.vertexAttribPointer(P,2,D.FLOAT,!1,0,0),
D.bindBuffer(D.ARRAY_BUFFER,T),D.bufferSubData(D.ARRAY_BUFFER,0,L),D.enableVertexAttribArray(N),D.vertexAttribPointer(N,4,D.UNSIGNED_BYTE,!0,0,0),D.blendFunc(D.ONE,D.ONE_MINUS_SRC_ALPHA),D.useProgram(G),D.uniform1i(Q,0),D.drawArrays(D.TRIANGLES,0,I/2)),Z=b)};})()</script></body>
